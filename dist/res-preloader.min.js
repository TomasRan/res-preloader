!function(e,r){"use strict";"function"==typeof define&&define.amd?define(function(){return r()}):"undefined"!=typeof module&&module.exports?module.exports=r():e.resPreloader=r()}(window||{},function(){var e=function(e,r){if("object"!=typeof r)return e;for(var t in e)e.hasOwnProperty(t)&&void 0===r[t]&&(r[t]=e[t]);return r},r=function(e,t,n){var i="";"img"===e?(i=new Image,i.src=t.src):"js"===e?(i=document.create("script"),i.src=t.src,i.type="type/javascript"):"css"===e&&(i=document.create("link"),i.href=t.src,i.type="type/css",i.rel="stylesheet"),i.onload=function(){delete i,n({index:t.index,url:t.src},null)},i.onerror=function(i){if(t.retryLimit<1){var o=i||window.event;n({index:t.index,url:t.src},o)}else t.retryLimit--,setTimeout(function(){console.log("load error: ",t.src),console.log("retry times: ",t.retryLimit),r(e,t,n)},t.retryInterval)}},t=function(e){var r=/.(png|jpg|jpeg|gif|bmp|webp)(\?\w*)?$/i,t=/.js(\?\w*)?$/i,n=/.css(\?\w*)?$/i;return r.test(e)?"img":t.test(e)?"js":n.test(e)?"css":void 0},n=function(n){for(var i=e({resources:[],callback:function(){},retryInterval:0,retryLimit:0},n),o=0;o<i.resources.length;o++){var s=t(i.resources[o]);s?r(s,{index:o,src:i.resources[o],retryInterval:i.retryInterval,retryLimit:i.retryLimit},function(e,r){i.callback(e,r)}):i.callback({index:o,url:i.resources[o]},"invalid url")}};return n});